{"version":3,"sources":["../../../widgets/Filtro_DC/Widget.js"],"names":["define","declare","BaseWidget","FeatureLayer","lang","Extent","SpatialReference","QueryTask","query","graphic","SimpleFillSymbol","Color","SimpleLineSymbol","RelationshipQuery","on","FeatureLayerStatistics","ArcGISDynamicMapServiceLayer","capa_clientes","capa_cableado","capa_centrales","capaActual","geometria_cableado","geometria_municipios","geometria_municipio_seleccionado","nombreMunicipio_seleccionado","municipiosFiltrados","municipio_individual","capa_conductos","baseClass","postCreate","inherited","arguments","startup","onOpen","console","log","map","extent","consultaMunicipios","queryMunicipios","returnGeometry","outFields","orderByFields","where","execute","hitch","evt","opciones","document","createElement","value","text","buscador_municipios","add","i","features","length","attributes","objectid","municpio_1","zoomMunicipios","consultaZoomMunicipio","queryZoomMunicipio","outSpatialReference","geometria","geometry","graphics","clear","STYLE_SOLID","STYLE_LONGDASH","añadir_conductos","setOpacity","addLayer","añadir_clientes","Clientes","ckecked","checked","extension","wkid","setExtent","removeLayer","añadir_cableado","Cableado","mode","MODE_ONDEMAND","extensionCab","añadir_centrales","Centrales","EjecutarConsulta","queryCableadoMunicipios","consultaCableado_intersect","consultaSelect","results","alert","municipiosOrdenAlfabetico","identificador","tipo","queryCables","spatialRelationship","SPATIAL_REL_INTERSECTS","munis","listavaciamunicipios","queryFeatures","FeatureSet","push","filter","item","pos","indexOf","sort","EjecutarQuery","queryMunicipios_Select","setDefinitionExpression","queryTaskMunicipios","resultados","consulta_Cableado","capaCableadoquery","identificadorFibra","identificadorCobre","identificadorCoaxial","identificadorHFC","identificadorOtros","identificadorFibraOrdenados","identificadorCobreOrdenados","identificadorCoaxialOrdenados","identificadorHFCOrdenados","identificadorOtrosOrdenados","EVT","geometria_cableado_seleccionado","li","p","contenido","appendChild","createTextNode","getElementById","getExtent","restaurar","extension_incial_mapa","onClose"],"mappings":"AAAAA,OAAO,CAAC,oBAAD,EAAuB,iBAAvB,EACP,0BADO,EAEP,iBAFO,EAGP,sBAHO,EAIP,uBAJO,EAKP,sBALO,EAMP,kBANO,EAOP,cAPO,EAQP,+BARO,EASP,YATO,EAUP,+BAVO,EAWP,8BAXO,EAYP,SAZO,EAaP,qCAbO,EAcP,0CAdO,CAAP,EAgBA,UAASC,OAAT,EAAkBC,UAAlB,EAA8BC,YAA9B,EAA4CC,IAA5C,EAAkDC,MAAlD,EAA0DC,gBAA1D,EAA4EC,SAA5E,EAAuFC,KAAvF,EAA8FC,OAA9F,EAAuGC,gBAAvG,EAAyHC,KAAzH,EAAgIC,gBAAhI,EAAkJC,iBAAlJ,EAAqKC,EAArK,EAAyKC,sBAAzK,EAAiMC,4BAAjM,EAA+N;;AAE7N,UAAIC,aAAJ;AACA,UAAIC,aAAJ;AACA,UAAIC,cAAJ;AACA,UAAID,aAAJ;AACA,UAAIE,UAAJ;AACA,UAAIC,kBAAJ;AACA,UAAIC,oBAAJ;AACA,UAAIC,gCAAJ;AACA,UAAIC,4BAAJ;AACA,UAAIC,mBAAJ;AACA,UAAIC,oBAAJ;AACA,UAAIC,cAAJ;;AAGE;AACF,aAAO1B,QAAQ,CAACC,UAAD,CAAR,EAAsB;;AAI3B;;AAEA0B,uBAAW,YANgB;AAO3B;AACA;AACA;;AAEA;AACAC,wBAAY,sBAAW;AACrB,uBAAKC,SAAL,CAAe,YAAf,EAA4BC,SAA5B;AAED,aAf0B;;AAiB3BC,qBAAS,mBAAW;AAClB,uBAAKF,SAAL,CAAeC,SAAf;AAED,aApB0B;;AAsB3BE,oBAAQ,kBAAU;;AAEhBC,0BAAQC,GAAR,CAAY,KAAKC,GAAL,CAASC,MAArB;;AAEA,sBAAIC,qBAAoB,IAAI/B,SAAJ,CAAc,yGAAd,CAAxB;;AAEA2B,0BAAQC,GAAR,CAAY,sBAAZ;;AAEA,sBAAII,kBAAmB,IAAI/B,KAAJ,EAAvB;AACA+B,kCAAgBC,cAAhB,GAAiC,IAAjC;AACAD,kCAAgBE,SAAhB,GAA4B,CAAC,GAAD,CAA5B;AACAF,kCAAgBG,aAAhB,GAAgC,CAAC,YAAD,CAAhC;AACAH,kCAAgBI,KAAhB,GAAwB,KAAxB;;AAEAT,0BAAQC,GAAR,CAAY,sBAAZ,EAAoCI,eAApC;;AAEDD,qCAAmBM,OAAnB,CAA2BL,eAA3B,EAA2CnC,KAAKyC,KAAL,CAAW,IAAX,EAAiB,UAASC,GAAT,EAAa;;AAExEZ,gCAAQC,GAAR,CAAY,sBAAZ,EAAoCW,GAApC;;AAEA,4BAAIC,WAAWC,SAASC,aAAT,CAAuB,QAAvB,CAAf;AACAF,iCAASG,KAAT,GAAiB,CAAC,CAAlB;AACAH,iCAASI,IAAT,GAAgB,yBAAhB;AACA,6BAAKC,mBAAL,CAAyBC,GAAzB,CAA6BN,QAA7B;;AAEA,6BAAIO,IAAE,CAAN,EAASA,IAAGR,IAAIS,QAAJ,CAAaC,MAAzB,EAAiCF,GAAjC,EAAqC;;AAEnCP,yCAAWC,SAASC,aAAT,CAAuB,QAAvB,CAAX;AACAF,uCAASG,KAAT,GAAiBJ,IAAIS,QAAJ,CAAaD,CAAb,EAAgBG,UAAhB,CAA2BC,QAA5C;AACAX,uCAASI,IAAT,GAAgBL,IAAIS,QAAJ,CAAaD,CAAb,EAAgBG,UAAhB,CAA2BE,UAA3C;AACA,mCAAKP,mBAAL,CAAyBC,GAAzB,CAA6BN,QAA7B;AAGD;AACD,mBAlB0C,CAA3C;AAsBA,aA5D0B;;AAgE3Ba,0BAhE2B,4BAgEX;;AAId,sBAAI,KAAKR,mBAAL,CAAyBF,KAAzB,IAAkC,CAAC,CAAvC,EAA0C;;AAE1C,sBAAIW,wBAAwB,IAAItD,SAAJ,CAAc,yGAAd,CAA5B;;AAEA,sBAAIuD,qBAAqB,IAAItD,KAAJ,EAAzB;AACAsD,qCAAmBtB,cAAnB,GAAoC,IAApC;AACAsB,qCAAmBrB,SAAnB,GAA+B,CAAC,YAAD,EAAe,UAAf,CAA/B;AACAqB,qCAAmBnB,KAAnB,GAA2B,gBAAgB,KAAKS,mBAAL,CAAyBF,KAApE;AACAY,qCAAmBC,mBAAnB,GAAyC,IAAIzD,gBAAJ,CAAsB,MAAtB,CAAzC;;AAEAuD,wCAAsBjB,OAAtB,CAA8BkB,kBAA9B,EAAkD1D,KAAKyC,KAAL,CAAW,IAAX,EAAiB,UAASC,GAAT,EAAa;;AAG9EZ,gCAAQC,GAAR,CAAY,KAAZ,EAAmBW,GAAnB;;AAEA,4BAAGA,IAAIS,QAAJ,CAAaC,MAAb,GAAsB,CAAzB,EAA2B;;AAEzB,kCAAIQ,YAAYlB,IAAIS,QAAJ,CAAa,CAAb,EAAgBU,QAAhC;AACA,mCAAK7B,GAAL,CAAS8B,QAAT,CAAkBC,KAAlB;AACA,mCAAK/B,GAAL,CAAS8B,QAAT,CAAkBb,GAAlB,CAAsB,IAAI5C,OAAJ,CAAauD,SAAb,EAAwB,IAAItD,gBAAJ,CAAqBA,iBAAiB0D,WAAtC,EAC5C,IAAIxD,gBAAJ,CAAsBA,iBAAiByD,cAAvC,EACE,IAAI1D,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADF,EAC8B,CAD9B,CAD4C,EAEX,IAAIA,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAe,IAAf,CAAV,CAFW,CAAxB,CAAtB;;AAKA;;AAGAuB,sCAAQC,GAAR,CAAY,iBAAZ,EAA+B6B,SAA/B;AACD;AAEF,mBApBiD,CAAlD;AAsBD,aApG0B;AAsG3BM,4BAtG2B,6BAsGT;;AAEhB3C,mCAAiB,IAAIX,4BAAJ,CAAkC,kFAAlC,CAAjB;;AAGAW,iCAAe4C,UAAf,CAA2B,GAA3B;;AAEA,uBAAKnC,GAAL,CAASoC,QAAT,CAAkB7C,cAAlB;;AAEAO,0BAAQC,GAAR,CAAY,SAAZ,EAAuB,KAAKC,GAA5B;AAED,aAjH0B;AAoH3BqC,2BApH2B,4BAoHV;;AAEfvC,0BAAQC,GAAR,CAAY,aAAa,KAAKuC,QAAL,CAAcC,OAAvC;;AAGA,sBAAG,KAAKD,QAAL,CAAcE,OAAd,IAAyB,IAA5B,EAAiC;;AAE/B3D,wCAAgB,IAAId,YAAJ,CAAkB,oFAAlB,CAAhB;;AAEA,6BAAKiC,GAAL,CAASoC,QAAT,CAAkBvD,aAAlB;;AAEA,4BAAI4D,YAAY,IAAIxE,MAAJ,CAAY,CAAC,kBAAb,EAAiC,iBAAjC,EAAoD,CAAC,iBAArD,EAAwE,iBAAxE,EAA4F,IAAIC,gBAAJ,CAAqB,EAAEwE,MAAK,MAAP,EAArB,CAA5F,CAAhB;;AAEF,6BAAK1C,GAAL,CAAS2C,SAAT,CAAmBF,SAAnB;AAGC,mBAXD,MAWM,IAAI,KAAKH,QAAL,CAAcE,OAAd,IAAyB,KAA7B,EAAmC;;AAEvC,6BAAKxC,GAAL,CAAS4C,WAAT,CAAqB/D,aAArB;;AAEA,4BAAI4D,YAAY,IAAIxE,MAAJ,CAAY,CAAC,iBAAb,EAAgC,iBAAhC,EAAmD,CAAC,iBAApD,EAAuE,iBAAvE,EAA2F,IAAIC,gBAAJ,CAAqB,EAAEwE,MAAK,MAAP,EAArB,CAA3F,CAAhB;AACD;AAEF,aA3I0B;AA6I3BG,2BA7I2B,4BA6IV;;AAEf,sBAAG,KAAKC,QAAL,CAAcN,OAAd,IAAyB,IAA5B,EAAiC;;AAE/B1D,wCAAgB,IAAIf,YAAJ,CAAkB,uFAAlB,EAA2G;AACzHgF,oCAAMhF,aAAaiF,aADsG;AAEzH3C,yCAAW,CAAC,GAAD;AAF8G,yBAA3G,CAAhB;;AAMA,6BAAKL,GAAL,CAASoC,QAAT,CAAkBtD,aAAlB;;AAEA,4BAAImE,eAAe,IAAIhF,MAAJ,CAAY,CAAC,kBAAb,EAAiC,iBAAjC,EAAoD,CAAC,kBAArD,EAAyE,iBAAzE,EAA6F,IAAIC,gBAAJ,CAAqB,EAAEwE,MAAK,MAAP,EAArB,CAA7F,CAAnB;;AAEF,6BAAK1C,GAAL,CAAS2C,SAAT,CAAmBM,YAAnB;AAGC,mBAfD,MAeM,IAAI,KAAKH,QAAL,CAAcN,OAAd,IAAyB,KAA7B,EAAmC;;AAEvC,6BAAKxC,GAAL,CAAS4C,WAAT,CAAqB9D,aAArB;;AAEA,4BAAImE,eAAe,IAAIhF,MAAJ,CAAY,CAAC,iBAAb,EAAgC,iBAAhC,EAAmD,CAAC,iBAApD,EAAuE,iBAAvE,EAA2F,IAAIC,gBAAJ,CAAqB,EAAEwE,MAAK,MAAP,EAArB,CAA3F,CAAnB;AAED;;AAED;;AAEA;;;;;;;AAWA;AASD,aA5L0B;;;AA8L3B;;;AAK0B;;AAIxB;;;;;;;;;;;;AAqBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEFQ,4BA/R2B,6BA+RT;;AAEhB,sBAAG,KAAKC,SAAL,CAAeX,OAAf,IAA0B,IAA7B,EAAkC;;AAEhCzD,yCAAiB,IAAIhB,YAAJ,CAAkB,mFAAlB,CAAjB;;AAEA,6BAAKiC,GAAL,CAASoC,QAAT,CAAkBrD,cAAlB;;AAEA,4BAAI0D,YAAY,IAAIxE,MAAJ,CAAY,CAAC,iBAAb,EAAgC,iBAAhC,EAAmD,CAAC,iBAApD,EAAuE,iBAAvE,EAA2F,IAAIC,gBAAJ,CAAqB,EAAEwE,MAAK,MAAP,EAArB,CAA3F,CAAhB;;AAED,6BAAK1C,GAAL,CAAS2C,SAAT,CAAmBF,SAAnB;AAGA,mBAXD,MAWM,IAAI,KAAKU,SAAL,CAAeX,OAAf,IAA0B,KAA9B,EAAoC;;AAExC,6BAAKxC,GAAL,CAAS4C,WAAT,CAAqB7D,cAArB;;AAEA,4BAAI0D,YAAY,IAAIxE,MAAJ,CAAY,CAAC,iBAAb,EAAgC,iBAAhC,EAAmD,CAAC,iBAApD,EAAuE,iBAAvE,EAA2F,IAAIC,gBAAJ,CAAqB,EAAEwE,MAAK,MAAP,EAArB,CAA3F,CAAhB;AACD;AAEF,aAnT0B;AAsT3BU,4BAtT2B,8BAsTT;;AAEhB,sBAAIH,eAAe,IAAIhF,MAAJ,CAAY,CAAC,kBAAb,EAAiC,iBAAjC,EAAoD,CAAC,kBAArD,EAAyE,iBAAzE,EAA6F,IAAIC,gBAAJ,CAAqB,EAAEwE,MAAK,MAAP,EAArB,CAA7F,CAAnB;;AAEA,sBAAIW,0BAA0B,IAAIlF,SAAJ,CAAc,mFAAd,CAA9B;;AAEA,sBAAImF,6BAA6B,IAAIlF,KAAJ,EAAjC;;AAEAkF,6CAA2BlD,cAA3B,GAA2C,IAA3C;AACAkD,6CAA2BjD,SAA3B,GAAuC,CAAC,GAAD,CAAvC;AACAiD,6CAA2B/C,KAA3B,GAAmC,YAAY,KAAKgD,cAAL,CAAoBzC,KAAnE;AACAwC,6CAA2B3B,mBAA3B,GAAiD,IAAIzD,gBAAJ,CAAsB,MAAtB,CAAjD;;AAEA4B,0BAAQC,GAAR,CAAYuD,2BAA2B/C,KAAvC;;AAGA8C,0CAAwB7C,OAAxB,CAAgC8C,0BAAhC,EAA4DtF,KAAKyC,KAAL,CAAW,IAAX,EAAiB,UAAS+C,OAAT,EAAiB;;AAE5F,4BAAG,KAAKD,cAAL,CAAoBzC,KAApB,IAA6B,CAAC,CAAjC,EAAmC;;AAEjC2C,oCAAM,6BAAN;AACD;;AAGD,4BAAID,QAAQrC,QAAR,CAAiBC,MAAjB,GAA0B,CAA1B,GAA8B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA/D,EAAkE;;AAEhE,mCAAKd,GAAL,CAAS8B,QAAT,CAAkBC,KAAlB;;AAEA2B,0DAA0B,EAA1B;;AAEA,mCAAIxC,IAAE,CAAN,EAASA,IAAEsC,QAAQrC,QAAR,CAAiBC,MAA5B,EAAoCF,GAApC,EAAwC;;AAGvC,wCAAIjC,qBAAqBuE,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBW,QAA7C;AACA/B,4CAAQC,GAAR,CAAY,oBAAZ,EAAkCd,kBAAlC;AACAa,4CAAQC,GAAR,CAAY,kBAAZ,EAAgCyD,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBG,UAApB,CAA+BsC,aAA/D;AACA7D,4CAAQC,GAAR,CAAY,eAAZ,EAA6ByD,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBG,UAApB,CAA+BuC,IAA5D;;AAEC;;AAEA,yCAAK5D,GAAL,CAAS8B,QAAT,CAAkBb,GAAlB,CAAsB,IAAI5C,OAAJ,CAAaY,kBAAb,EAAiC,IAAIT,gBAAJ,CAAsBA,iBAAiBwD,WAAvC,EACrD,IAAIzD,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADqD,EACzB,CADyB,CAAjC,EACW,IAAIA,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADX,CAAtB;AAGD,yCAAKyB,GAAL,CAAS2C,SAAT,CAAmBM,YAAnB;;AAGAnD,4CAAQC,GAAR,CAAYyD,OAAZ;;AAEA,wCAAIK,cAAc,IAAIzF,KAAJ,EAAlB;;AAEAyF,gDAAYzD,cAAZ,GAA6B,IAA7B;AACAyD,gDAAYhC,QAAZ,GAAuB5C,kBAAvB;AACA4E,gDAAYxD,SAAZ,GAAwB,CAAC,GAAD,CAAxB;AACAwD,gDAAYvD,aAAZ,GAA4B,CAAC,YAAD,CAA5B;;AAEA;;AAEA;;AAEA;;AAEAuD,gDAAYC,mBAAZ,GAAkC1F,MAAM2F,sBAAxC;;AAGA,wCAAIC,QAAQ,IAAIjG,YAAJ,CAAiB,qGAAjB,CAAZ;;AAEA;;AAEA;;AAEA;AACA,wCAAIkG,uBAAuB,EAA3B;;AAEAD,0CAAME,aAAN,CAAoBL,WAApB,EAAiC7F,KAAKyC,KAAL,CAAW,IAAX,EAAiB,UAAU0D,UAAV,EAAqB;;AAItE,+CAAIjD,IAAE,CAAN,EAASA,IAAEiD,WAAWhD,QAAX,CAAoBC,MAA/B,EAAuCF,GAAvC,EAA2C;;AAEzCpB,wDAAQC,GAAR,CAAY,YAAZ,EAA0BoE,UAA1B;AACArE,wDAAQC,GAAR,CAAY,YAAZ,EAA0BoE,WAAWhD,QAAX,CAAoBD,CAApB,EAAuBG,UAAvB,CAAkCE,UAA5D;;AAEAjC,uEAAuB6E,WAAWhD,QAAX,CAAoBD,CAApB,EAAuBG,UAAvB,CAAkCE,UAAzD;;AAEA0C,qEAAqBG,IAArB,CAA0B9E,oBAA1B;AACD;;AAEDQ,kDAAQC,GAAR,CAAY,QAAZ,EAAsBkE,oBAAtB;;AAEA5E,gEAAsB4E,qBAAqBI,MAArB,CAA4B,UAASC,IAAT,EAAeC,GAAf,EAAmB;;AAEnE,uDAAON,qBAAqBO,OAArB,CAA6BF,IAA7B,MAAsCC,GAA7C;AAED,2CAJqB,CAAtB;;AAMAzE,kDAAQC,GAAR,CAAYV,mBAAZ;;AAEAqE,sEAA4BrE,oBAAoBoF,IAApB,EAA5B;;AAEA3E,kDAAQC,GAAR,CAAY,uBAAZ,EAAqC2D,yBAArC;AAIA,qCA9BgC,CAAjC;AAiCA;;AAID;;;;;;;;;AAeD,yBArGD,MAqGM,IAAIF,QAAQrC,QAAR,CAAiBC,MAAjB,GAA0B,CAA1B,GAA8B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA/D,EAAiE;;AAEnE,mCAAKd,GAAL,CAAS8B,QAAT,CAAkBC,KAAlB;;AAEA,mCAAIb,IAAE,CAAN,EAASA,IAAEsC,QAAQrC,QAAR,CAAiBC,MAA5B,EAAoCF,GAApC,EAAwC;;AAGtC,wCAAIjC,qBAAqBuE,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBW,QAA7C;AACA/B,4CAAQC,GAAR,CAAY,oBAAZ,EAAkCd,kBAAlC;AACAa,4CAAQC,GAAR,CAAY,kBAAZ,EAAgCyD,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBG,UAApB,CAA+BsC,aAA/D;AACA7D,4CAAQC,GAAR,CAAY,eAAZ,EAA6ByD,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBG,UAApB,CAA+BuC,IAA5D;;AAEF;;AAEA,yCAAK5D,GAAL,CAAS8B,QAAT,CAAkBb,GAAlB,CAAsB,IAAI5C,OAAJ,CAAaY,kBAAb,EAAiC,IAAIT,gBAAJ,CAAsBA,iBAAiBwD,WAAvC,EACrD,IAAIzD,KAAJ,CAAU,CAAC,EAAD,EAAK,GAAL,EAAU,EAAV,CAAV,CADqD,EAC3B,CAD2B,CAAjC,EACS,IAAIA,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADT,CAAtB;AAGD,yCAAKyB,GAAL,CAAS2C,SAAT,CAAmBM,YAAnB;;AAGAnD,4CAAQC,GAAR,CAAYyD,OAAZ;;AAEA,wCAAIK,cAAc,IAAIzF,KAAJ,EAAlB;AACAyF,gDAAYzD,cAAZ,GAA6B,IAA7B;AACAyD,gDAAYhC,QAAZ,GAAuB5C,kBAAvB;AACA4E,gDAAYxD,SAAZ,GAAwB,CAAC,GAAD,CAAxB;AACAwD,gDAAYvD,aAAZ,GAA4B,CAAC,YAAD,CAA5B;AACAuD,gDAAYC,mBAAZ,GAAkC1F,MAAM2F,sBAAxC;;AAEA,wCAAIC,QAAQ,IAAIjG,YAAJ,CAAiB,qGAAjB,CAAZ;;AAEA,wCAAIkG,uBAAuB,EAA3B;;AAEAD,0CAAME,aAAN,CAAoBL,WAApB,EAAiC7F,KAAKyC,KAAL,CAAW,IAAX,EAAiB,UAAU0D,UAAV,EAAqB;;AAGtE,+CAAIjD,IAAE,CAAN,EAASA,IAAEiD,WAAWhD,QAAX,CAAoBC,MAA/B,EAAuCF,GAAvC,EAA2C;;AAEzCpB,wDAAQC,GAAR,CAAY,YAAZ,EAA0BoE,UAA1B;AACArE,wDAAQC,GAAR,CAAY,YAAZ,EAA0BoE,WAAWhD,QAAX,CAAoBD,CAApB,EAAuBG,UAAvB,CAAkCE,UAA5D;;AAEAjC,uEAAuB6E,WAAWhD,QAAX,CAAoBD,CAApB,EAAuBG,UAAvB,CAAkCE,UAAzD;;AAEA0C,qEAAqBG,IAArB,CAA0B9E,oBAA1B;AACD;;AAEDQ,kDAAQC,GAAR,CAAY,QAAZ,EAAsBkE,oBAAtB;;AAEA5E,gEAAsB4E,qBAAqBI,MAArB,CAA4B,UAASC,IAAT,EAAeC,GAAf,EAAmB;;AAEnE,uDAAON,qBAAqBO,OAArB,CAA6BF,IAA7B,MAAsCC,GAA7C;AAED,2CAJqB,CAAtB;;AAMAzE,kDAAQC,GAAR,CAAYV,mBAAZ;;AAEAqE,sEAA4BrE,oBAAoBoF,IAApB,EAA5B;;AAEA3E,kDAAQC,GAAR,CAAY,uBAAZ,EAAqC2D,yBAArC;AAMA,qCA/BgC,CAAjC;AAiCA;AAEA,yBApEG,MAoEE,IAAGF,QAAQrC,QAAR,CAAiBC,MAAjB,GAA0B,CAA1B,GAA8B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA9D,EAAgE;;AAEpE,mCAAKd,GAAL,CAAS8B,QAAT,CAAkBC,KAAlB;AACA,mCAAIb,IAAE,CAAN,EAASA,IAAEsC,QAAQrC,QAAR,CAAiBC,MAA5B,EAAoCF,GAApC,EAAwC;;AAGtC,wCAAIjC,qBAAqBuE,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBW,QAA7C;AACH/B,4CAAQC,GAAR,CAAY,oBAAZ,EAAkCd,kBAAlC;AACAa,4CAAQC,GAAR,CAAY,kBAAZ,EAAgCyD,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBG,UAApB,CAA+BsC,aAA/D;AACA7D,4CAAQC,GAAR,CAAY,eAAZ,EAA6ByD,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBG,UAApB,CAA+BuC,IAA5D;;AAEC;;AAEA,yCAAK5D,GAAL,CAAS8B,QAAT,CAAkBb,GAAlB,CAAsB,IAAI5C,OAAJ,CAAaY,kBAAb,EAAiC,IAAIT,gBAAJ,CAAsBA,iBAAiBwD,WAAvC,EACrD,IAAIzD,KAAJ,CAAU,CAAC,GAAD,EAAM,CAAN,EAAS,CAAT,CAAV,CADqD,EAC7B,CAD6B,CAAjC,EACO,IAAIA,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADP,CAAtB;AAGD,yCAAKyB,GAAL,CAAS2C,SAAT,CAAmBM,YAAnB;;AAGAnD,4CAAQC,GAAR,CAAYyD,OAAZ;;AAEA,wCAAIK,cAAc,IAAIzF,KAAJ,EAAlB;AACAyF,gDAAYzD,cAAZ,GAA6B,IAA7B;AACAyD,gDAAYhC,QAAZ,GAAuB5C,kBAAvB;AACA4E,gDAAYxD,SAAZ,GAAwB,CAAC,GAAD,CAAxB;AACAwD,gDAAYvD,aAAZ,GAA4B,CAAC,YAAD,CAA5B;AACAuD,gDAAYC,mBAAZ,GAAkC1F,MAAM2F,sBAAxC;;AAEA,wCAAIC,QAAQ,IAAIjG,YAAJ,CAAiB,qGAAjB,CAAZ;;AAEA,wCAAIkG,uBAAuB,EAA3B;;AAEAD,0CAAME,aAAN,CAAoBL,WAApB,EAAiC7F,KAAKyC,KAAL,CAAW,IAAX,EAAiB,UAAU0D,UAAV,EAAqB;;AAEtE,+CAAIjD,IAAE,CAAN,EAASA,IAAEiD,WAAWhD,QAAX,CAAoBC,MAA/B,EAAuCF,GAAvC,EAA2C;;AAEzCpB,wDAAQC,GAAR,CAAY,YAAZ,EAA0BoE,UAA1B;AACArE,wDAAQC,GAAR,CAAY,YAAZ,EAA0BoE,WAAWhD,QAAX,CAAoBD,CAApB,EAAuBG,UAAvB,CAAkCE,UAA5D;;AAEAjC,uEAAuB6E,WAAWhD,QAAX,CAAoBD,CAApB,EAAuBG,UAAvB,CAAkCE,UAAzD;;AAEA0C,qEAAqBG,IAArB,CAA0B9E,oBAA1B;AACD;;AAEDQ,kDAAQC,GAAR,CAAY,QAAZ,EAAsBkE,oBAAtB;;AAEA5E,gEAAsB4E,qBAAqBI,MAArB,CAA4B,UAASC,IAAT,EAAeC,GAAf,EAAmB;;AAEnE,uDAAON,qBAAqBO,OAArB,CAA6BF,IAA7B,MAAsCC,GAA7C;AAED,2CAJqB,CAAtB;;AAMAzE,kDAAQC,GAAR,CAAYV,mBAAZ;;AAEAqE,sEAA4BrE,oBAAoBoF,IAApB,EAA5B;;AAEA3E,kDAAQC,GAAR,CAAY,uBAAZ,EAAqC2D,yBAArC;AAEA,qCA1BgC,CAAjC;AA6BE;AAEF,yBA/DK,MA+DA,IAAGF,QAAQrC,QAAR,CAAiBC,MAAjB,GAA0B,CAA1B,GAA8B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA9D,EAAgE;;AAEpE,mCAAKd,GAAL,CAAS8B,QAAT,CAAkBC,KAAlB;;AAEA,mCAAIb,IAAE,CAAN,EAASA,IAAEsC,QAAQrC,QAAR,CAAiBC,MAA5B,EAAoCF,GAApC,EAAwC;;AAGtC,wCAAIjC,qBAAqBuE,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBW,QAA7C;AACH/B,4CAAQC,GAAR,CAAY,oBAAZ,EAAkCd,kBAAlC;AACAa,4CAAQC,GAAR,CAAY,kBAAZ,EAAgCyD,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBG,UAApB,CAA+BsC,aAA/D;AACA7D,4CAAQC,GAAR,CAAY,eAAZ,EAA6ByD,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBG,UAApB,CAA+BuC,IAA5D;;AAEC;;AAEA,yCAAK5D,GAAL,CAAS8B,QAAT,CAAkBb,GAAlB,CAAsB,IAAI5C,OAAJ,CAAaY,kBAAb,EAAiC,IAAIT,gBAAJ,CAAsBA,iBAAiBwD,WAAvC,EACrD,IAAIzD,KAAJ,CAAU,CAAC,GAAD,EAAM,CAAN,EAAS,GAAT,CAAV,CADqD,EAC3B,CAD2B,CAAjC,EACS,IAAIA,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADT,CAAtB;AAGD,yCAAKyB,GAAL,CAAS2C,SAAT,CAAmBM,YAAnB;;AAGAnD,4CAAQC,GAAR,CAAYyD,OAAZ;;AAEA,wCAAIK,cAAc,IAAIzF,KAAJ,EAAlB;AACAyF,gDAAYzD,cAAZ,GAA6B,IAA7B;AACAyD,gDAAYhC,QAAZ,GAAuB5C,kBAAvB;AACA4E,gDAAYxD,SAAZ,GAAwB,CAAC,GAAD,CAAxB;AACAwD,gDAAYvD,aAAZ,GAA4B,CAAC,YAAD,CAA5B;AACAuD,gDAAYC,mBAAZ,GAAkC1F,MAAM2F,sBAAxC;;AAEA,wCAAIC,QAAQ,IAAIjG,YAAJ,CAAiB,qGAAjB,CAAZ;;AAEA,wCAAIkG,uBAAuB,EAA3B;;AAEAD,0CAAME,aAAN,CAAoBL,WAApB,EAAiC7F,KAAKyC,KAAL,CAAW,IAAX,EAAiB,UAAU0D,UAAV,EAAqB;;AAEtE,+CAAIjD,IAAE,CAAN,EAASA,IAAEiD,WAAWhD,QAAX,CAAoBC,MAA/B,EAAuCF,GAAvC,EAA2C;;AAEzCpB,wDAAQC,GAAR,CAAY,YAAZ,EAA0BoE,UAA1B;AACArE,wDAAQC,GAAR,CAAY,YAAZ,EAA0BoE,WAAWhD,QAAX,CAAoBD,CAApB,EAAuBG,UAAvB,CAAkCE,UAA5D;;AAEAjC,uEAAuB6E,WAAWhD,QAAX,CAAoBD,CAApB,EAAuBG,UAAvB,CAAkCE,UAAzD;;AAEA0C,qEAAqBG,IAArB,CAA0B9E,oBAA1B;AACD;;AAEDQ,kDAAQC,GAAR,CAAY,QAAZ,EAAsBkE,oBAAtB;;AAEA5E,gEAAsB4E,qBAAqBI,MAArB,CAA4B,UAASC,IAAT,EAAeC,GAAf,EAAmB;;AAEnE,uDAAON,qBAAqBO,OAArB,CAA6BF,IAA7B,MAAsCC,GAA7C;AAED,2CAJqB,CAAtB;;AAMAzE,kDAAQC,GAAR,CAAYV,mBAAZ;;AAEAqE,sEAA4BrE,oBAAoBoF,IAApB,EAA5B;;AAEA3E,kDAAQC,GAAR,CAAY,uBAAZ,EAAqC2D,yBAArC;AAEA,qCA1BgC,CAAjC;AA4BE;AAGF,yBAhEK,MAgEA,IAAGF,QAAQrC,QAAR,CAAiBC,MAAjB,GAA0B,CAA1B,GAA8B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA9D,EAAgE;;AAEpE,mCAAKd,GAAL,CAAS8B,QAAT,CAAkBC,KAAlB;;AAEA,mCAAIb,IAAE,CAAN,EAASA,IAAEsC,QAAQrC,QAAR,CAAiBC,MAA5B,EAAoCF,GAApC,EAAwC;;AAGtC,wCAAIjC,qBAAqBuE,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBW,QAA7C;AACA/B,4CAAQC,GAAR,CAAY,oBAAZ,EAAkCd,kBAAlC;AACAa,4CAAQC,GAAR,CAAY,kBAAZ,EAAgCyD,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBG,UAApB,CAA+BsC,aAA/D;AACC7D,4CAAQC,GAAR,CAAY,eAAZ,EAA6ByD,QAAQrC,QAAR,CAAiBD,CAAjB,EAAoBG,UAApB,CAA+BuC,IAA5D;;AAEF;;AAEA,yCAAK5D,GAAL,CAAS8B,QAAT,CAAkBb,GAAlB,CAAsB,IAAI5C,OAAJ,CAAaY,kBAAb,EAAiC,IAAKT,gBAAL,CAAuBA,iBAAiBwD,WAAxC,EACtD,IAAIzD,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADsD,EAC1B,CAD0B,CAAjC,EACU,IAAIA,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADV,CAAtB;AAGA,yCAAKyB,GAAL,CAAS2C,SAAT,CAAmBM,YAAnB;;AAGAnD,4CAAQC,GAAR,CAAYyD,OAAZ;;AAEA,wCAAIK,cAAc,IAAIzF,KAAJ,EAAlB;AACAyF,gDAAYzD,cAAZ,GAA6B,IAA7B;AACAyD,gDAAYhC,QAAZ,GAAuB5C,kBAAvB;AACA4E,gDAAYxD,SAAZ,GAAwB,CAAC,GAAD,CAAxB;AACAwD,gDAAYvD,aAAZ,GAA4B,CAAC,YAAD,CAA5B;AACAuD,gDAAYC,mBAAZ,GAAkC1F,MAAM2F,sBAAxC;;AAEA,wCAAIC,QAAQ,IAAIjG,YAAJ,CAAiB,qGAAjB,CAAZ;;AAEA,wCAAIkG,uBAAuB,EAA3B;;AAECD,0CAAME,aAAN,CAAoBL,WAApB,EAAiC7F,KAAKyC,KAAL,CAAW,IAAX,EAAiB,UAAU0D,UAAV,EAAqB;;AAErE,+CAAIjD,IAAE,CAAN,EAASA,IAAEiD,WAAWhD,QAAX,CAAoBC,MAA/B,EAAuCF,GAAvC,EAA2C;;AAEzCpB,wDAAQC,GAAR,CAAY,YAAZ,EAA0BoE,UAA1B;AACArE,wDAAQC,GAAR,CAAY,YAAZ,EAA0BoE,WAAWhD,QAAX,CAAoBD,CAApB,EAAuBG,UAAvB,CAAkCE,UAA5D;;AAEAjC,uEAAuB6E,WAAWhD,QAAX,CAAoBD,CAApB,EAAuBG,UAAvB,CAAkCE,UAAzD;;AAEA0C,qEAAqBG,IAArB,CAA0B9E,oBAA1B;AACD;;AAEDQ,kDAAQC,GAAR,CAAY,QAAZ,EAAsBkE,oBAAtB;;AAEA5E,gEAAsB4E,qBAAqBI,MAArB,CAA4B,UAASC,IAAT,EAAeC,GAAf,EAAmB;;AAEnE,uDAAON,qBAAqBO,OAArB,CAA6BF,IAA7B,MAAsCC,GAA7C;AAED,2CAJqB,CAAtB;;AAMAzE,kDAAQC,GAAR,CAAYV,mBAAZ;;AAEAqE,sEAA4BrE,oBAAoBoF,IAApB,EAA5B;;AAEA3E,kDAAQC,GAAR,CAAY,uBAAZ,EAAqC2D,yBAArC;AAEJ,qCA1BmC,CAAjC;AA4BD;AACF;AAEJ,mBAhX2D,CAA5D;AAmXD,aAzrB0B;;;AA2rB3B;;AAEAgB,yBA7rB2B,2BA6rBZ;;AAEb,uBAAK1E,GAAL,CAAS8B,QAAT,CAAkBC,KAAlB;;AAIA,sBAAI4C,yBAAyB,IAAIvG,KAAJ,EAA7B;;AAEAuG,yCAAuBvE,cAAvB,GAAwC,IAAxC;AACAuE,yCAAuBtE,SAAvB,GAAmC,CAAC,GAAD,CAAnC;AACAsE,yCAAuBrE,aAAvB,GAAuC,CAAC,YAAD,CAAvC;AACAqE,yCAAuBpE,KAAvB,GAA+B,gBAAgB,KAAKS,mBAAL,CAAyBF,KAAxE;AACA6D,yCAAuBhD,mBAAvB,GAA6C,IAAIzD,gBAAJ,CAAsB,MAAtB,CAA7C;;AAGA,sBAAI8F,QAAQ,IAAIjG,YAAJ,CAAiB,qGAAjB,CAAZ;;AAEAiG,wBAAMY,uBAAN,CAA8B,iBAAiB,KAAK5D,mBAAL,CAAyBF,KAA1C,GAAkD,GAAhF;;AAEA,sBAAI+D,sBAAsB,IAAI1G,SAAJ,CAAc,qGAAd,CAA1B;;AAEA0G,sCAAoBrE,OAApB,CAA4BmE,sBAA5B,EAAoD3G,KAAKyC,KAAL,CAAW,IAAX,EAAiB,UAASqE,UAAT,EAAoB;;AAEvF,4BAAGA,WAAW3D,QAAX,CAAoBC,MAApB,GAA6B,CAAhC,EAAkC;;AAEhC,mCAAIF,IAAE,CAAN,EAASA,IAAE4D,WAAW3D,QAAX,CAAoBC,MAA/B,EAAuCF,GAAvC,EAA2C;;AAEzC/B,uEAAmC2F,WAAW3D,QAAX,CAAoBD,CAApB,EAAuBW,QAA1D;;AAEAzC,mEAA+B0F,WAAW3D,QAAX,CAAoBD,CAApB,EAAuBG,UAAvB,CAAkCE,UAAjE;;AAGA,yCAAKvB,GAAL,CAAS8B,QAAT,CAAkBC,KAAlB;AACA,yCAAK/B,GAAL,CAAS8B,QAAT,CAAkBb,GAAlB,CAAsB,IAAI5C,OAAJ,CAAac,gCAAb,EAA+C,IAAIb,gBAAJ,CAAqBA,iBAAiB0D,WAAtC,EACrE,IAAIxD,gBAAJ,CAAsBA,iBAAiByD,cAAvC,EACE,IAAI1D,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADF,EAC8B,CAD9B,CADqE,EAEpC,IAAIA,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAe,IAAf,CAAV,CAFoC,CAA/C,CAAtB;AAKD;;AAGDuB,sCAAQC,GAAR,CAAY,mCAAZ,EAAiDZ,gCAAjD;;AAEAW,sCAAQC,GAAR,CAAY,yBAAZ,EAAuCX,4BAAvC;;AAEA;;AAEA,kCAAI2F,oBAAoB,IAAI3G,KAAJ,EAAxB;;AAEA2G,gDAAkB3E,cAAlB,GAAmC,IAAnC;AACA2E,gDAAkBlD,QAAlB,GAA6B1C,gCAA7B;AACA4F,gDAAkB1E,SAAlB,GAA8B,CAAC,GAAD,CAA9B;AACA0E,gDAAkBxE,KAAlB,GAA0B,YAAY,KAAKgD,cAAL,CAAoBzC,KAA1D;AACAiE,gDAAkBjB,mBAAlB,GAAwC1F,MAAM2F,sBAA9C;;AAGA,kCAAIiB,oBAAoB,IAAIjH,YAAJ,CAAiB,mFAAjB,CAAxB;;AAEA,kCAAIkH,qBAAqB,EAAzB;AACA,kCAAIC,qBAAqB,EAAzB;AACA,kCAAIC,uBAAuB,EAA3B;AACA,kCAAIC,mBAAmB,EAAvB;AACA,kCAAIC,qBAAqB,EAAzB;AACA,kCAAIC,8BAA8BL,mBAAmBR,IAAnB,EAAlC;AACA,kCAAIc,8BAA8BL,mBAAmBT,IAAnB,EAAlC;AACA,kCAAIe,gCAAgCL,qBAAqBV,IAArB,EAApC;AACA,kCAAIgB,4BAA4BL,iBAAiBX,IAAjB,EAAhC;AACA,kCAAIiB,8BAA8BL,mBAAmBZ,IAAnB,EAAlC;;AAEAO,gDAAkBd,aAAlB,CAAgCa,iBAAhC,EAAmD/G,KAAKyC,KAAL,CAAW,IAAX,EAAiB,UAASkF,GAAT,EAAa;;AAE/E,wCAAGA,IAAIxE,QAAJ,CAAaC,MAAb,GAAsB,CAAtB,GAA0B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA1D,EAA4D;;AAE1D;;AAEA,+CAAII,IAAE,CAAN,EAASA,IAAIyE,IAAIxE,QAAJ,CAAaC,MAA1B,EAAkCF,GAAlC,EAAsC;;AAEpCpB,wDAAQC,GAAR,CAAY,MAAZ,EAAoB4F,GAApB;;AAEA,oDAAIC,kCAAkCD,IAAIxE,QAAJ,CAAaD,CAAb,EAAgBW,QAAtD;AACA,oDAAI8B,gBAAegC,IAAIxE,QAAJ,CAAaD,CAAb,EAAgBG,UAAhB,CAA2BsC,aAA9C;;AAEA,qDAAK3D,GAAL,CAAS8B,QAAT,CAAkBb,GAAlB,CAAsB,IAAI5C,OAAJ,CAAauH,+BAAb,EAA8C,IAAIpH,gBAAJ,CAAsBA,iBAAiBwD,WAAvC,EAClE,IAAIzD,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADkE,EACtC,CADsC,CAA9C,EACW,IAAIA,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADX,CAAtB;;AAIA0G,mEAAmBb,IAAnB,CAAwBT,aAAxB;AAGD;;AAED,+CAAKzC,IAAI,CAAT,EAAYA,IAAIoE,4BAA4BlE,MAA5C,EAAoDF,GAApD,EAAyD;;AAEvD,oDAAI2E,KAAKjF,SAASC,aAAT,CAAuB,IAAvB,CAAT;AACA,oDAAIiF,IAAIlF,SAASC,aAAT,CAAuB,GAAvB,CAAR;AACAkF,4DAAYT,4BAA4BpE,CAA5B,CAAZ;AACA4E,kDAAEE,WAAF,CAAcpF,SAASqF,cAAT,CAAwBF,SAAxB,CAAd;AACAnF,yDAASsF,cAAT,CAAwB,kCAAxB,EAA4DF,WAA5D,CAAwEH,EAAxE,EAA4EG,WAA5E,CAAwFF,CAAxF;AAED;;AAED,+CAAK9F,GAAL,CAAS2C,SAAT,CAAmBxD,iCAAiCgH,SAAjC,EAAnB,EAAiE,IAAjE;;AAGArG,kDAAQC,GAAR,CAAY,2BAAZ,EAAyCkF,kBAAzC;AAID,qCArCD,MAqCM,IAAGU,IAAIxE,QAAJ,CAAaC,MAAb,IAAuB,CAAvB,GAA2B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA3D,EAA8D;;AAElE2C,gDAAM,QAAQrE,4BAAR,GAAuC,kCAA7C;AAGD;;AAGD,wCAAGuG,IAAIxE,QAAJ,CAAaC,MAAb,GAAsB,CAAtB,GAA0B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA1D,EAA4D;;AAE1D;;AAEA,+CAAII,IAAE,CAAN,EAASA,IAAIyE,IAAIxE,QAAJ,CAAaC,MAA1B,EAAkCF,GAAlC,EAAsC;;AAEpCpB,wDAAQC,GAAR,CAAY,MAAZ,EAAoB4F,GAApB;;AAEA,oDAAIC,kCAAkCD,IAAIxE,QAAJ,CAAaD,CAAb,EAAgBW,QAAtD;AACA,oDAAI8B,gBAAegC,IAAIxE,QAAJ,CAAaD,CAAb,EAAgBG,UAAhB,CAA2BsC,aAA9C;;AAEA,qDAAK3D,GAAL,CAAS8B,QAAT,CAAkBb,GAAlB,CAAsB,IAAI5C,OAAJ,CAAauH,+BAAb,EAA8C,IAAIpH,gBAAJ,CAAsBA,iBAAiBwD,WAAvC,EAClE,IAAIzD,KAAJ,CAAU,CAAC,EAAD,EAAK,GAAL,EAAU,EAAV,CAAV,CADkE,EACxC,CADwC,CAA9C,EACS,IAAIA,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADT,CAAtB;;AAIA2G,mEAAmBd,IAAnB,CAAwBT,aAAxB;AAGD;;AAED,+CAAKzC,IAAI,CAAT,EAAYA,IAAIqE,4BAA4BnE,MAA5C,EAAoDF,GAApD,EAAyD;;AAEvD,oDAAI2E,KAAKjF,SAASC,aAAT,CAAuB,IAAvB,CAAT;AACA,oDAAIiF,IAAIlF,SAASC,aAAT,CAAuB,GAAvB,CAAR;AACAkF,4DAAYR,4BAA4BrE,CAA5B,CAAZ;AACA4E,kDAAEE,WAAF,CAAcpF,SAASqF,cAAT,CAAwBF,SAAxB,CAAd;AACAnF,yDAASsF,cAAT,CAAwB,kCAAxB,EAA4DF,WAA5D,CAAwEH,EAAxE,EAA4EG,WAA5E,CAAwFF,CAAxF;AAED;;AAED,+CAAK9F,GAAL,CAAS2C,SAAT,CAAmBxD,iCAAiCgH,SAAjC,EAAnB,EAAiE,IAAjE;;AAGArG,kDAAQC,GAAR,CAAY,2BAAZ,EAAyCmF,kBAAzC;AAED,qCAnCD,MAmCM,IAAGS,IAAIxE,QAAJ,CAAaC,MAAb,IAAuB,CAAvB,GAA2B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA3D,EAA8D;;AAElE2C,gDAAM,QAAQrE,4BAAR,GAAuC,kCAA7C;AAGD;;AAED,wCAAGuG,IAAIxE,QAAJ,CAAaC,MAAb,GAAsB,CAAtB,GAA0B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA1D,EAA4D;;AAE1D;;AAEA,+CAAII,IAAE,CAAN,EAASA,IAAIyE,IAAIxE,QAAJ,CAAaC,MAA1B,EAAkCF,GAAlC,EAAsC;;AAEpCpB,wDAAQC,GAAR,CAAY,MAAZ,EAAoB4F,GAApB;;AAEA,oDAAIC,kCAAkCD,IAAIxE,QAAJ,CAAaD,CAAb,EAAgBW,QAAtD;AACA,oDAAI8B,gBAAegC,IAAIxE,QAAJ,CAAaD,CAAb,EAAgBG,UAAhB,CAA2BsC,aAA9C;;AAEA,qDAAK3D,GAAL,CAAS8B,QAAT,CAAkBb,GAAlB,CAAsB,IAAI5C,OAAJ,CAAauH,+BAAb,EAA8C,IAAIpH,gBAAJ,CAAsBA,iBAAiBwD,WAAvC,EAClE,IAAIzD,KAAJ,CAAU,CAAC,GAAD,EAAM,CAAN,EAAS,CAAT,CAAV,CADkE,EAC1C,CAD0C,CAA9C,EACO,IAAIA,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADP,CAAtB;;AAIA6G,iEAAiBhB,IAAjB,CAAsBT,aAAtB;AAED;;AAED,+CAAKzC,IAAI,CAAT,EAAYA,IAAIuE,0BAA0BrE,MAA1C,EAAkDF,GAAlD,EAAuD;;AAErD,oDAAI2E,KAAKjF,SAASC,aAAT,CAAuB,IAAvB,CAAT;AACA,oDAAIiF,IAAIlF,SAASC,aAAT,CAAuB,GAAvB,CAAR;AACAkF,4DAAYN,0BAA0BvE,CAA1B,CAAZ;AACA4E,kDAAEE,WAAF,CAAcpF,SAASqF,cAAT,CAAwBF,SAAxB,CAAd;AACAnF,yDAASsF,cAAT,CAAwB,gCAAxB,EAA0DF,WAA1D,CAAsEH,EAAtE,EAA0EG,WAA1E,CAAsFF,CAAtF;AAED;;AAEDhG,kDAAQC,GAAR,CAAY,yBAAZ,EAAuCqF,gBAAvC;;AAEA,+CAAKpF,GAAL,CAAS2C,SAAT,CAAmBxD,iCAAiCgH,SAAjC,EAAnB,EAAiE,IAAjE;AAID,qCAnCD,MAmCM,IAAGR,IAAIxE,QAAJ,CAAaC,MAAb,IAAuB,CAAvB,GAA2B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA3D,EAA8D;;AAElE2C,gDAAM,QAAQrE,4BAAR,GAAuC,sCAA7C;AAGD;;AAED,wCAAGuG,IAAIxE,QAAJ,CAAaC,MAAb,GAAsB,CAAtB,GAA0B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA1D,EAA4D;;AAE1D;;AAEA,+CAAII,IAAE,CAAN,EAASA,IAAIyE,IAAIxE,QAAJ,CAAaC,MAA1B,EAAkCF,GAAlC,EAAsC;;AAEpCpB,wDAAQC,GAAR,CAAY,MAAZ,EAAoB4F,GAApB;;AAEA,oDAAIC,kCAAkCD,IAAIxE,QAAJ,CAAaD,CAAb,EAAgBW,QAAtD;AACA,oDAAI8B,gBAAegC,IAAIxE,QAAJ,CAAaD,CAAb,EAAgBG,UAAhB,CAA2BsC,aAA9C;;AAEA,qDAAK3D,GAAL,CAAS8B,QAAT,CAAkBb,GAAlB,CAAsB,IAAI5C,OAAJ,CAAauH,+BAAb,EAA8C,IAAIpH,gBAAJ,CAAsBA,iBAAiBwD,WAAvC,EAClE,IAAIzD,KAAJ,CAAU,CAAC,GAAD,EAAM,CAAN,EAAS,GAAT,CAAV,CADkE,EACxC,CADwC,CAA9C,EACS,IAAIA,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADT,CAAtB;;AAIA4G,qEAAqBf,IAArB,CAA0BT,aAA1B;AAED;;AAED,+CAAKzC,IAAI,CAAT,EAAYA,IAAIsE,8BAA8BpE,MAA9C,EAAsDF,GAAtD,EAA2D;;AAEzD,oDAAI2E,KAAKjF,SAASC,aAAT,CAAuB,IAAvB,CAAT;AACA,oDAAIiF,IAAIlF,SAASC,aAAT,CAAuB,GAAvB,CAAR;AACAkF,4DAAYP,8BAA8BtE,CAA9B,CAAZ;AACA4E,kDAAEE,WAAF,CAAcpF,SAASqF,cAAT,CAAwBF,SAAxB,CAAd;AACAnF,yDAASsF,cAAT,CAAwB,oCAAxB,EAA8DF,WAA9D,CAA0EH,EAA1E,EAA8EG,WAA9E,CAA0FF,CAA1F;AAED;;AAEDhG,kDAAQC,GAAR,CAAY,6BAAZ,EAA2CoF,oBAA3C;;AAEA,+CAAKnF,GAAL,CAAS2C,SAAT,CAAmBxD,iCAAiCgH,SAAjC,EAAnB,EAAiE,IAAjE;AAID,qCAnCD,MAmCM,IAAGR,IAAIxE,QAAJ,CAAaC,MAAb,IAAuB,CAAvB,GAA2B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA3D,EAA8D;;AAElE2C,gDAAM,QAAQrE,4BAAR,GAAuC,0CAA7C;AAGD;;AAED,wCAAGuG,IAAIxE,QAAJ,CAAaC,MAAb,GAAsB,CAAtB,GAA0B,KAAKmC,cAAL,CAAoBzC,KAApB,IAA6B,CAA1D,EAA4D;;AAE1D;;AAEA,+CAAII,IAAE,CAAN,EAASA,IAAIyE,IAAIxE,QAAJ,CAAaC,MAA1B,EAAkCF,GAAlC,EAAsC;;AAEpCpB,wDAAQC,GAAR,CAAY,MAAZ,EAAoB4F,GAApB;;AAEA,oDAAIC,kCAAkCD,IAAIxE,QAAJ,CAAaD,CAAb,EAAgBW,QAAtD;AACA,oDAAI8B,gBAAegC,IAAIxE,QAAJ,CAAaD,CAAb,EAAgBG,UAAhB,CAA2BsC,aAA9C;;AAEA,qDAAK3D,GAAL,CAAS8B,QAAT,CAAkBb,GAAlB,CAAsB,IAAI5C,OAAJ,CAAauH,+BAAb,EAA8C,IAAKpH,gBAAL,CAAuBA,iBAAiBwD,WAAxC,EAClE,IAAIzD,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADkE,EACtC,CADsC,CAA9C,EACW,IAAIA,KAAJ,CAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAV,CADX,CAAtB;;AAIA8G,mEAAmBjB,IAAnB,CAAwBT,aAAxB;AAED;;AAED,+CAAKzC,IAAI,CAAT,EAAYA,IAAIwE,4BAA4BtE,MAA5C,EAAoDF,GAApD,EAAyD;;AAEvD,oDAAI2E,KAAKjF,SAASC,aAAT,CAAuB,IAAvB,CAAT;AACA,oDAAIiF,IAAIlF,SAASC,aAAT,CAAuB,GAAvB,CAAR;AACAkF,4DAAYL,4BAA4BxE,CAA5B,CAAZ;AACA4E,kDAAEE,WAAF,CAAcpF,SAASqF,cAAT,CAAwBF,SAAxB,CAAd;AACAnF,yDAASsF,cAAT,CAAwB,kCAAxB,EAA4DF,WAA5D,CAAwEH,EAAxE,EAA4EG,WAA5E,CAAwFF,CAAxF;AAED;;AAEDhG,kDAAQC,GAAR,CAAY,2BAAZ,EAAyCsF,kBAAzC;;AAEA,+CAAKrF,GAAL,CAAS2C,SAAT,CAAmBxD,iCAAiCgH,SAAjC,EAAnB,EAAiE,IAAjE;AAED;AAMF,+BApNkD,CAAnD;AAyND;AAKF,mBA9QmD,CAApD;AAyRD,aA3+B0B;AA6+B3BC,qBA7+B2B,uBA6+BhB;;AAET,uBAAKpG,GAAL,CAAS8B,QAAT,CAAkBC,KAAlB;;AAEA,sBAAIsE,wBAAwB,IAAIpI,MAAJ,CAAW,CAAC,iBAAZ,EAA+B,iBAA/B,EAAkD,CAAC,kBAAnD,EAAuE,iBAAvE,EAA0F,IAAIC,gBAAJ,CAAqB,EAACwE,MAAK,MAAN,EAArB,CAA1F,CAA5B;;AAEA,uBAAK1C,GAAL,CAAS2C,SAAT,CAAmB0D,qBAAnB;AACA,uBAAKrG,GAAL,CAAS4C,WAAT,CAAqBrD,cAArB;AAED,aAt/B0B;;;AA4/B3B+G,qBAAS,mBAAU;AACjB,uBAAKtG,GAAL,CAAS8B,QAAT,CAAkBC,KAAlB;AACD;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAxhC2B,OAAtB,CAAP;AA4hCD,CA7jCD","file":"Widget.js","sourcesContent":["define(['dojo/_base/declare', 'jimu/BaseWidget',\r\n\"esri/layers/FeatureLayer\",\r\n\"dojo/_base/lang\",\r\n\"esri/geometry/Extent\",\r\n\"esri/SpatialReference\",\r\n\"esri/tasks/QueryTask\",\r\n\"esri/tasks/query\",\r\n\"esri/graphic\",\r\n\"esri/symbols/SimpleFillSymbol\",\r\n\"esri/Color\",\r\n\"esri/symbols/SimpleLineSymbol\",\r\n\"esri/tasks/RelationshipQuery\",\r\n\"dojo/on\",\r\n\"esri/plugins/FeatureLayerStatistics\",\r\n\"esri/layers/ArcGISDynamicMapServiceLayer\",\r\n],\r\nfunction(declare, BaseWidget, FeatureLayer, lang, Extent, SpatialReference, QueryTask, query, graphic, SimpleFillSymbol, Color, SimpleLineSymbol, RelationshipQuery, on, FeatureLayerStatistics, ArcGISDynamicMapServiceLayer) {\r\n\r\n  var capa_clientes;\r\n  var capa_cableado;\r\n  var capa_centrales;\r\n  var capa_cableado;\r\n  var capaActual;\r\n  var geometria_cableado;\r\n  var geometria_municipios;\r\n  var geometria_municipio_seleccionado;\r\n  var nombreMunicipio_seleccionado;  \r\n  var municipiosFiltrados;\r\n  var municipio_individual;\r\n  var capa_conductos;\r\n  \r\n\r\n    //To create a widget, you need to derive from BaseWidget.\r\n  return declare([BaseWidget], {\r\n\r\n    \r\n\r\n    // Custom widget code goes here\r\n\r\n    baseClass: 'filtro-d-c',\r\n    // this property is set by the framework when widget is loaded.\r\n    // name: 'Filtro_DC',\r\n    // add additional properties here\r\n\r\n    //methods to communication with app container:\r\n    postCreate: function() {\r\n      this.inherited(\"Argumentos\",arguments);\r\n      \r\n    },\r\n\r\n    startup: function() {\r\n      this.inherited(arguments);\r\n      \r\n    },\r\n\r\n    onOpen: function(){\r\n      \r\n      console.log(this.map.extent)\r\n\r\n      var consultaMunicipios= new QueryTask(\"https://localhost:6443/arcgis/rest/services/Proyecto/Servicio_Densidad_Renta_Com_Madrid/FeatureServer/0\");\r\n      \r\n      console.log(\"Estoy en la linea 56\")\r\n\r\n      var queryMunicipios =  new query();\r\n      queryMunicipios.returnGeometry = true;\r\n      queryMunicipios.outFields = [\"*\"];\r\n      queryMunicipios.orderByFields = [\"municpio_1\"];\r\n      queryMunicipios.where = \"1=1\";\r\n      \r\n      console.log(\"Estoy en la linea 64\", queryMunicipios)\r\n\r\n     consultaMunicipios.execute(queryMunicipios,lang.hitch(this, function(evt){\r\n\r\n      console.log(\"Estoy en la linea 68\", evt)\r\n\r\n      var opciones = document.createElement(\"option\");\r\n      opciones.value = -1;\r\n      opciones.text = \"Seleccione un municipio\";\r\n      this.buscador_municipios.add(opciones)\r\n\r\n      for(i=0; i< evt.features.length; i++){\r\n\r\n        opciones = document.createElement(\"option\");\r\n        opciones.value = evt.features[i].attributes.objectid;\r\n        opciones.text = evt.features[i].attributes.municpio_1\r\n        this.buscador_municipios.add(opciones)\r\n\r\n        \r\n      }     \r\n     }));   \r\n     \r\n           \r\n\r\n    },\r\n\r\n     \r\n\r\n    zoomMunicipios(){\r\n\r\n      \r\n\r\n      if (this.buscador_municipios.value == -1) return;\r\n\r\n      var consultaZoomMunicipio = new QueryTask(\"https://localhost:6443/arcgis/rest/services/Proyecto/Servicio_Densidad_Renta_Com_Madrid/FeatureServer/0\")\r\n\r\n      var queryZoomMunicipio = new query();\r\n      queryZoomMunicipio.returnGeometry = true;\r\n      queryZoomMunicipio.outFields = [\"municpio_1\", \"objectid\"]\r\n      queryZoomMunicipio.where = \"objectid = \" + this.buscador_municipios.value\r\n      queryZoomMunicipio.outSpatialReference = new SpatialReference (102100);\r\n\r\n      consultaZoomMunicipio.execute(queryZoomMunicipio, lang.hitch(this, function(evt){\r\n\r\n\r\n        console.log(\"evt\", evt)\r\n\r\n        if(evt.features.length > 0){\r\n\r\n          var geometria = evt.features[0].geometry;\r\n          this.map.graphics.clear();\r\n          this.map.graphics.add(new graphic (geometria, new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID,\r\n            new SimpleLineSymbol (SimpleLineSymbol.STYLE_LONGDASH,\r\n              new Color([234, 152, 223]), 2),new Color([235, 141, 106,0.25])\r\n              )))\r\n\r\n          /*this.map.setExtent(geometria.getExtent(), true)*/\r\n\r\n\r\n          console.log(\"La geometria es\", geometria)\r\n        }\r\n\r\n      }))\r\n\r\n    },\r\n    \r\n    añadir_conductos(){\r\n\r\n      capa_conductos = new ArcGISDynamicMapServiceLayer (\"https://localhost:6443/arcgis/rest/services/Proyecto/ServicioConductos/MapServer\")\r\n\r\n      \r\n      capa_conductos.setOpacity (0.5);\r\n\r\n      this.map.addLayer(capa_conductos)\r\n\r\n      console.log(\"Mapita:\", this.map)\r\n\r\n    },\r\n       \r\n\r\n    añadir_clientes(){\r\n\r\n      console.log(\"estado: \" + this.Clientes.ckecked)\r\n      \r\n\r\n      if(this.Clientes.checked == true){\r\n\r\n        capa_clientes = new FeatureLayer (\"https://localhost:6443/arcgis/rest/services/Proyecto/Servicio_Clientes/MapServer/0\")\r\n\r\n        this.map.addLayer(capa_clientes)\r\n\r\n        var extension = new Extent (-424988.21030558174, 4914314.611985733, -398120.5948633785, 4939577.049833949,  new SpatialReference({ wkid:102100}) )\r\n\r\n      this.map.setExtent(extension)\r\n\r\n      \r\n      }else if (this.Clientes.checked == false){\r\n\r\n        this.map.removeLayer(capa_clientes)\r\n\r\n        var extension = new Extent (-560683.0447687416, 4812156.523682616, -345742.1212309296, 5014256.026468524,  new SpatialReference({ wkid:102100}) )\r\n      }\r\n      \r\n    },\r\n\r\n    añadir_cableado(){\r\n\r\n      if(this.Cableado.checked == true){\r\n\r\n        capa_cableado = new FeatureLayer (\"https://localhost:6443/arcgis/rest/services/Proyecto/ServicioCableado/FeatureServer/4\", {\r\n          mode: FeatureLayer.MODE_ONDEMAND,\r\n          outFields: [\"*\"]\r\n        })\r\n        \r\n\r\n        this.map.addLayer(capa_cableado)\r\n\r\n        var extensionCab = new Extent (-475455.75823086995, 4880185.478856351, -367985.29646187095, 4981235.230249394,  new SpatialReference({ wkid:102100}) )\r\n\r\n      this.map.setExtent(extensionCab)\r\n\r\n\r\n      }else if (this.Cableado.checked == false){\r\n\r\n        this.map.removeLayer(capa_cableado)\r\n\r\n        var extensionCab = new Extent (-560683.0447687416, 4812156.523682616, -345742.1212309296, 5014256.026468524,  new SpatialReference({ wkid:102100}) )\r\n\r\n      }\r\n\r\n      /*PRUEBA DE CÁLCULO DE ESTADÍSTICAS PARA OBTENER EL SUMATORIO DE SHAPELENGH. NO HA SALIDO BIEN*/\r\n\r\n      /*var estadisticas_cableado = new FeatureLayerStatistics({layer: capa_cableado})\r\n\r\n      var estadisticas_cableado_parametros = {field: \"tipo_de_instalacion\"}\r\n\r\n      console.log(\"Campos:\", estadisticas_cableado_parametros)\r\n\r\n      estadisticas_cableado.getUniqueValues(estadisticas_cableado_parametros).then(function(resultados){\r\n\r\n        console.log(\"Suma todo el cableado:\", resultados.uniqueValueInfos)\r\n      })*/\r\n\r\n      /*REALIZAMOS UNA QUERY DE LA GEOMETRIA DE LOS CABLES Y DE LOS MUNICIPIOS PARA SACAR UN LISTA DE AQUELLOS QUE NO TIENE CABLE*/\r\n\r\n\r\n\r\n\r\n      \r\n\r\n\r\n\r\n    },\r\n\r\n    /*consultaMunis(){\r\n\r\n\r\n\r\n             /*CONSULTA AL SERVICIO DE MUNICIPIOS PARA OBTENER SUS GEOMETRIAS*/\r\n                              /*NO ES NECESARIO HACERLO*/\r\n\r\n\r\n\r\n      /*var queryMunicipiosCableado = new QueryTask(\"https://localhost:6443/arcgis/rest/services/Proyecto/Servicio_Densidad_Renta_Com_Madrid/FeatureServer/0\")\r\n\r\n      var consultaMunicipios_intersect = new query();\r\n\r\n      consultaMunicipios_intersect.returnGeometry=true;\r\n      consultaMunicipios_intersect.outFields=[\"*\"];\r\n      consultaMunicipios_intersect.where = \"1=1\";\r\n\r\n      queryMunicipiosCableado.execute(consultaMunicipios_intersect, lang.hitch(this, function(results){\r\n\r\n        if(results.features.length > 0){\r\n\r\n          geometria_municipios = results.features[0].geometry\r\n\r\n          console.log(\"Geometria Municipios\", geometria_municipios)\r\n        }\r\n\r\n\r\n\r\n      }))*/\r\n\r\n      /*var queryCableadoMunicipios = new QueryTask(\"https://localhost:6443/arcgis/rest/services/Proyecto/ServicioCableado/FeatureServer/4\")\r\n\r\n      var consultaCableado_intersect = new query();\r\n\r\n      consultaCableado_intersect.returnGeometry=true;\r\n      consultaCableado_intersect.outFields=[\"*\"];\r\n      consultaCableado_intersect.where = \"1=1\";\r\n\r\n\r\n      queryCableadoMunicipios.execute(consultaCableado_intersect, lang.hitch(this, function(results){\r\n\r\n        if(results.features.length > 0){\r\n\r\n          for(i=0; i<results.features.length; i++){\r\n\r\n            geometria_cableado = results.features[i].geometry\r\n\r\n           console.log(\"Geometria Cableado\", geometria_cableado)\r\n           console.log(\"Nombre del cable\", results.features[i].attributes.identificador)\r\n           console.log(\"Tipo de cable\", results.features[i].attributes.tipo)\r\n\r\n\r\n           var queryCables = new query();\r\n           queryCables.returnGeometry = true;\r\n           queryCables.geometry = geometria_cableado;\r\n           queryCables.outFields = [\"*\"];\r\n           queryCables.orderByFields = [\"municpio_1\"]\r\n           queryCables.spatialRelationship = query.SPATIAL_REL_INTERSECTS\r\n\r\n           var munis = new FeatureLayer(\"https://localhost:6443/arcgis/rest/services/Proyecto/Servicio_Densidad_Renta_Com_Madrid/FeatureServer/0\")\r\n\r\n           munis.queryFeatures(queryCables, lang.hitch(this, function (FeatureSet){\r\n\r\n            for(i=0; i<FeatureSet.features.length; i++){\r\n\r\n              console.log(\"FeatureSet\", FeatureSet)\r\n              console.log(\"Municipio:\", FeatureSet.features[i].attributes.municpio_1)\r\n\r\n\r\n            }\r\n            \r\n            \r\n\r\n\r\n           }))\r\n\r\n\r\n          }\r\n\r\n          \r\n\r\n\r\n        }\r\n\r\n\r\n\r\n      }))\r\n\r\n      \r\n\r\n\r\n\r\n      \r\n\r\n\r\n    }*/\r\n\r\n    añadir_centrales(){\r\n\r\n      if(this.Centrales.checked == true){\r\n\r\n        capa_centrales = new FeatureLayer (\"https://localhost:6443/arcgis/rest/services/Proyecto/ServicioCableado/MapServer/3\")\r\n\r\n        this.map.addLayer(capa_centrales)\r\n\r\n        var extension = new Extent (-452562.8682594219, 4901052.787578272, -398827.6373750154, 4951577.663274705,  new SpatialReference({ wkid:102100}) )\r\n\r\n       this.map.setExtent(extension)\r\n\r\n\r\n      }else if (this.Centrales.checked == false){\r\n\r\n        this.map.removeLayer(capa_centrales)\r\n\r\n        var extension = new Extent (-560683.0447687416, 4812156.523682616, -345742.1212309296, 5014256.026468524,  new SpatialReference({ wkid:102100}) )\r\n      }\r\n\r\n    },\r\n\r\n    \r\n    EjecutarConsulta(){\r\n\r\n      var extensionCab = new Extent (-475455.75823086995, 4880185.478856351, -367985.29646187095, 4981235.230249394,  new SpatialReference({ wkid:102100}) )\r\n\r\n      var queryCableadoMunicipios = new QueryTask(\"https://localhost:6443/arcgis/rest/services/Proyecto/ServicioCableado/MapServer/4\")\r\n\r\n      var consultaCableado_intersect = new query()\r\n\r\n      consultaCableado_intersect.returnGeometry =true;\r\n      consultaCableado_intersect.outFields = [\"*\"];      \r\n      consultaCableado_intersect.where = \"tipo = \" + this.consultaSelect.value\r\n      consultaCableado_intersect.outSpatialReference = new SpatialReference (102100)\r\n\r\n      console.log(consultaCableado_intersect.where)\r\n      \r\n\r\n      queryCableadoMunicipios.execute(consultaCableado_intersect, lang.hitch(this, function(results){   \r\n        \r\n        if(this.consultaSelect.value == -1){\r\n          \r\n          alert(\"Seleccione un tipo de cable\")\r\n        }\r\n        \r\n\r\n        if (results.features.length > 0 & this.consultaSelect.value == 0) {\r\n\r\n          this.map.graphics.clear();\r\n\r\n          municipiosOrdenAlfabetico=[];\r\n\r\n          for(i=0; i<results.features.length; i++){            \r\n            \r\n\r\n           var geometria_cableado = results.features[i].geometry;\r\n           console.log(\"Geometria Cableado\", geometria_cableado)\r\n           console.log(\"Nombre del cable\", results.features[i].attributes.identificador)\r\n           console.log(\"Tipo de cable\", results.features[i].attributes.tipo)\r\n\r\n            // this.map.graphics.clear();\r\n\r\n            this.map.graphics.add(new graphic (geometria_cableado, new SimpleLineSymbol (SimpleLineSymbol.STYLE_SOLID,\r\n              new Color([101, 133, 233]), 2),new Color([101, 226, 223])\r\n              ))\r\n           this.map.setExtent(extensionCab)\r\n  \r\n  \r\n           console.log(results)\r\n\r\n           var queryCables = new query();\r\n           \r\n           queryCables.returnGeometry = true;\r\n           queryCables.geometry = geometria_cableado;\r\n           queryCables.outFields = [\"*\"];\r\n           queryCables.orderByFields = [\"municpio_1\"];\r\n\r\n           /*-----AQUÍ HE AÑADIDO LA CLAUSURA WHERE----*/\r\n\r\n           /*queryCables.where = \"objectid = \" + this.buscador_municipios.value;*/\r\n\r\n           /*------------------------------------------------*/\r\n\r\n           queryCables.spatialRelationship = query.SPATIAL_REL_INTERSECTS;\r\n\r\n\r\n           var munis = new FeatureLayer(\"https://localhost:6443/arcgis/rest/services/Proyecto/Servicio_Densidad_Renta_Com_Madrid/MapServer/0\")\r\n\r\n           /*ESTABLEZCO UNA EXPRESION DE DEFINICIÓN PARA CARGAR LA CAPA SOLO CON LA GEOMETRÍA DEL MUNICIPIO SELECCIONADO EN LA LISTA DE MUNICIPIOS*/\r\n\r\n           /*munis.setDefinitionExpression(\"objectid =' \" + this.buscador_municipios.value + \"'\")*/\r\n\r\n           /*----------------------------------------------------*/\r\n           var listavaciamunicipios = [];           \r\n\r\n           munis.queryFeatures(queryCables, lang.hitch(this, function (FeatureSet){\r\n\r\n            \r\n            \r\n            for(i=0; i<FeatureSet.features.length; i++){              \r\n\r\n              console.log(\"FeatureSet\", FeatureSet)\r\n              console.log(\"Municipio:\", FeatureSet.features[i].attributes.municpio_1)\r\n              \r\n              municipio_individual = FeatureSet.features[i].attributes.municpio_1;              \r\n\r\n              listavaciamunicipios.push(municipio_individual)  \r\n            }           \r\n            \r\n            console.log(\"Lista:\", listavaciamunicipios)    \r\n            \r\n            municipiosFiltrados = listavaciamunicipios.filter(function(item, pos){\r\n\r\n              return listavaciamunicipios.indexOf(item)=== pos; \r\n              \r\n            });          \r\n\r\n            console.log(municipiosFiltrados)\r\n\r\n            municipiosOrdenAlfabetico = municipiosFiltrados.sort()\r\n\r\n            console.log(\"Municipios Ordenados:\", municipiosOrdenAlfabetico);\r\n\r\n            \r\n\r\n           }))\r\n          \r\n\r\n          };\r\n\r\n          \r\n          \r\n          /*for (i = 0; i < municipiosOrdenAlfabetico.length; i++) {            \r\n          \r\n            var contenido;\r\n\r\n           var li = document.createElement(\"li\");\r\n           var p = document.createElement(\"p\");\r\n           contenido = municipiosOrdenAlfabetico[i];\r\n           p.appendChild(document.createTextNode(contenido));\r\n           document.getElementById(\"lista_municipios_con_cable\").appendChild(li).appendChild(p);\r\n\r\n          }*/\r\n\r\n          \r\n  \r\n  \r\n        }else if (results.features.length > 0 & this.consultaSelect.value == 1){\r\n\r\n            this.map.graphics.clear();\r\n\r\n            for(i=0; i<results.features.length; i++){\r\n            \r\n\r\n              var geometria_cableado = results.features[i].geometry;\r\n              console.log(\"Geometria Cableado\", geometria_cableado)\r\n              console.log(\"Nombre del cable\", results.features[i].attributes.identificador)\r\n              console.log(\"Tipo de cable\", results.features[i].attributes.tipo)\r\n\r\n            // this.map.graphics.clear();\r\n\r\n            this.map.graphics.add(new graphic (geometria_cableado, new SimpleLineSymbol (SimpleLineSymbol.STYLE_SOLID,\r\n              new Color([51, 225, 51]), 2),new Color([101, 226, 223])\r\n              ))\r\n           this.map.setExtent(extensionCab)\r\n  \r\n  \r\n           console.log(results)\r\n\r\n           var queryCables = new query();\r\n           queryCables.returnGeometry = true;\r\n           queryCables.geometry = geometria_cableado;\r\n           queryCables.outFields = [\"*\"];\r\n           queryCables.orderByFields = [\"municpio_1\"]\r\n           queryCables.spatialRelationship = query.SPATIAL_REL_INTERSECTS\r\n\r\n           var munis = new FeatureLayer(\"https://localhost:6443/arcgis/rest/services/Proyecto/Servicio_Densidad_Renta_Com_Madrid/MapServer/0\")\r\n\r\n           var listavaciamunicipios = [];\r\n\r\n           munis.queryFeatures(queryCables, lang.hitch(this, function (FeatureSet){\r\n\r\n\r\n            for(i=0; i<FeatureSet.features.length; i++){              \r\n\r\n              console.log(\"FeatureSet\", FeatureSet)\r\n              console.log(\"Municipio:\", FeatureSet.features[i].attributes.municpio_1)\r\n              \r\n              municipio_individual = FeatureSet.features[i].attributes.municpio_1;              \r\n\r\n              listavaciamunicipios.push(municipio_individual)  \r\n            }           \r\n            \r\n            console.log(\"Lista:\", listavaciamunicipios)    \r\n            \r\n            municipiosFiltrados = listavaciamunicipios.filter(function(item, pos){\r\n\r\n              return listavaciamunicipios.indexOf(item)=== pos; \r\n              \r\n            });          \r\n\r\n            console.log(municipiosFiltrados)\r\n\r\n            municipiosOrdenAlfabetico = municipiosFiltrados.sort()\r\n\r\n            console.log(\"Municipios Ordenados:\", municipiosOrdenAlfabetico);\r\n\r\n            \r\n\r\n\r\n\r\n           }))           \r\n  \r\n          }\r\n\r\n          }else if(results.features.length > 0 & this.consultaSelect.value == 2){\r\n\r\n            this.map.graphics.clear();\r\n            for(i=0; i<results.features.length; i++){\r\n            \r\n\r\n              var geometria_cableado = results.features[i].geometry;\r\n           console.log(\"Geometria Cableado\", geometria_cableado)\r\n           console.log(\"Nombre del cable\", results.features[i].attributes.identificador)\r\n           console.log(\"Tipo de cable\", results.features[i].attributes.tipo)\r\n\r\n            // this.map.graphics.clear();\r\n\r\n            this.map.graphics.add(new graphic (geometria_cableado, new SimpleLineSymbol (SimpleLineSymbol.STYLE_SOLID,\r\n              new Color([255, 0, 0]), 2),new Color([101, 226, 223])\r\n              ))\r\n           this.map.setExtent(extensionCab)\r\n  \r\n  \r\n           console.log(results)\r\n\r\n           var queryCables = new query();\r\n           queryCables.returnGeometry = true;\r\n           queryCables.geometry = geometria_cableado;\r\n           queryCables.outFields = [\"*\"];\r\n           queryCables.orderByFields = [\"municpio_1\"]\r\n           queryCables.spatialRelationship = query.SPATIAL_REL_INTERSECTS\r\n\r\n           var munis = new FeatureLayer(\"https://localhost:6443/arcgis/rest/services/Proyecto/Servicio_Densidad_Renta_Com_Madrid/MapServer/0\")\r\n\r\n           var listavaciamunicipios = [];\r\n\r\n           munis.queryFeatures(queryCables, lang.hitch(this, function (FeatureSet){\r\n\r\n            for(i=0; i<FeatureSet.features.length; i++){              \r\n\r\n              console.log(\"FeatureSet\", FeatureSet)\r\n              console.log(\"Municipio:\", FeatureSet.features[i].attributes.municpio_1)\r\n              \r\n              municipio_individual = FeatureSet.features[i].attributes.municpio_1;              \r\n\r\n              listavaciamunicipios.push(municipio_individual)  \r\n            }           \r\n            \r\n            console.log(\"Lista:\", listavaciamunicipios)    \r\n            \r\n            municipiosFiltrados = listavaciamunicipios.filter(function(item, pos){\r\n\r\n              return listavaciamunicipios.indexOf(item)=== pos; \r\n              \r\n            });          \r\n\r\n            console.log(municipiosFiltrados)\r\n\r\n            municipiosOrdenAlfabetico = municipiosFiltrados.sort()\r\n\r\n            console.log(\"Municipios Ordenados:\", municipiosOrdenAlfabetico);\r\n\r\n           }))\r\n            \r\n  \r\n            }\r\n\r\n          }else if(results.features.length > 0 & this.consultaSelect.value == 3){\r\n\r\n            this.map.graphics.clear();\r\n\r\n            for(i=0; i<results.features.length; i++){\r\n            \r\n\r\n              var geometria_cableado = results.features[i].geometry;\r\n           console.log(\"Geometria Cableado\", geometria_cableado)\r\n           console.log(\"Nombre del cable\", results.features[i].attributes.identificador)\r\n           console.log(\"Tipo de cable\", results.features[i].attributes.tipo)\r\n\r\n            // this.map.graphics.clear();\r\n\r\n            this.map.graphics.add(new graphic (geometria_cableado, new SimpleLineSymbol (SimpleLineSymbol.STYLE_SOLID,\r\n              new Color([255, 0, 255]), 2),new Color([101, 226, 223])\r\n              ))\r\n           this.map.setExtent(extensionCab)\r\n  \r\n  \r\n           console.log(results)\r\n\r\n           var queryCables = new query();\r\n           queryCables.returnGeometry = true;\r\n           queryCables.geometry = geometria_cableado;\r\n           queryCables.outFields = [\"*\"];\r\n           queryCables.orderByFields = [\"municpio_1\"]\r\n           queryCables.spatialRelationship = query.SPATIAL_REL_INTERSECTS\r\n\r\n           var munis = new FeatureLayer(\"https://localhost:6443/arcgis/rest/services/Proyecto/Servicio_Densidad_Renta_Com_Madrid/MapServer/0\")\r\n\r\n           var listavaciamunicipios = [];\r\n\r\n           munis.queryFeatures(queryCables, lang.hitch(this, function (FeatureSet){\r\n\r\n            for(i=0; i<FeatureSet.features.length; i++){              \r\n\r\n              console.log(\"FeatureSet\", FeatureSet)\r\n              console.log(\"Municipio:\", FeatureSet.features[i].attributes.municpio_1)\r\n              \r\n              municipio_individual = FeatureSet.features[i].attributes.municpio_1;              \r\n\r\n              listavaciamunicipios.push(municipio_individual)  \r\n            }           \r\n            \r\n            console.log(\"Lista:\", listavaciamunicipios)    \r\n            \r\n            municipiosFiltrados = listavaciamunicipios.filter(function(item, pos){\r\n\r\n              return listavaciamunicipios.indexOf(item)=== pos; \r\n              \r\n            });          \r\n\r\n            console.log(municipiosFiltrados)\r\n\r\n            municipiosOrdenAlfabetico = municipiosFiltrados.sort()\r\n\r\n            console.log(\"Municipios Ordenados:\", municipiosOrdenAlfabetico);\r\n\r\n           })) \r\n  \r\n            }\r\n\r\n\r\n          }else if(results.features.length > 0 & this.consultaSelect.value == 4){\r\n\r\n            this.map.graphics.clear();\r\n\r\n            for(i=0; i<results.features.length; i++){\r\n            \r\n\r\n              var geometria_cableado = results.features[i].geometry;\r\n              console.log(\"Geometria Cableado\", geometria_cableado)\r\n              console.log(\"Nombre del cable\", results.features[i].attributes.identificador)\r\n               console.log(\"Tipo de cable\", results.features[i].attributes.tipo)\r\n\r\n             // this.map.graphics.clear();\r\n\r\n             this.map.graphics.add(new graphic (geometria_cableado, new  SimpleLineSymbol (SimpleLineSymbol.STYLE_SOLID,\r\n              new Color([128, 128, 128]), 2),new Color([101, 226, 223])\r\n              ))\r\n             this.map.setExtent(extensionCab)\r\n  \r\n  \r\n             console.log(results)\r\n\r\n             var queryCables = new query();\r\n             queryCables.returnGeometry = true;\r\n             queryCables.geometry = geometria_cableado;\r\n             queryCables.outFields = [\"*\"];\r\n             queryCables.orderByFields = [\"municpio_1\"]\r\n             queryCables.spatialRelationship = query.SPATIAL_REL_INTERSECTS\r\n\r\n             var munis = new FeatureLayer(\"https://localhost:6443/arcgis/rest/services/Proyecto/Servicio_Densidad_Renta_Com_Madrid/MapServer/0\")\r\n\r\n             var listavaciamunicipios = [];\r\n\r\n              munis.queryFeatures(queryCables, lang.hitch(this, function (FeatureSet){\r\n\r\n                for(i=0; i<FeatureSet.features.length; i++){              \r\n\r\n                  console.log(\"FeatureSet\", FeatureSet)\r\n                  console.log(\"Municipio:\", FeatureSet.features[i].attributes.municpio_1)\r\n                  \r\n                  municipio_individual = FeatureSet.features[i].attributes.municpio_1;              \r\n    \r\n                  listavaciamunicipios.push(municipio_individual)  \r\n                }           \r\n                \r\n                console.log(\"Lista:\", listavaciamunicipios)    \r\n                \r\n                municipiosFiltrados = listavaciamunicipios.filter(function(item, pos){\r\n    \r\n                  return listavaciamunicipios.indexOf(item)=== pos; \r\n                  \r\n                });          \r\n    \r\n                console.log(municipiosFiltrados)\r\n    \r\n                municipiosOrdenAlfabetico = municipiosFiltrados.sort()\r\n    \r\n                console.log(\"Municipios Ordenados:\", municipiosOrdenAlfabetico);\r\n            \r\n           }))\r\n  \r\n            };\r\n          };\r\n\r\n      }));   \r\n\r\n\r\n    },\r\n\r\n    /*------------PRUEBA PARA EJECUTAR QUERY CON EL MUNICIPIO Y EL CABLEADO COMO PARAMETROS DE ENTRADA--------------*/\r\n\r\n    EjecutarQuery(){\r\n\r\n      this.map.graphics.clear();\r\n\r\n\r\n\r\n      var queryMunicipios_Select = new query();\r\n           \r\n      queryMunicipios_Select.returnGeometry = true;    \r\n      queryMunicipios_Select.outFields = [\"*\"];\r\n      queryMunicipios_Select.orderByFields = [\"municpio_1\"];\r\n      queryMunicipios_Select.where = \"objectid = \" + this.buscador_municipios.value;\r\n      queryMunicipios_Select.outSpatialReference = new SpatialReference (102100);\r\n      \r\n      \r\n      var munis = new FeatureLayer(\"https://localhost:6443/arcgis/rest/services/Proyecto/Servicio_Densidad_Renta_Com_Madrid/MapServer/0\")\r\n\r\n      munis.setDefinitionExpression(\"objectid =' \" + this.buscador_municipios.value + \"'\")\r\n\r\n      var queryTaskMunicipios = new QueryTask(\"https://localhost:6443/arcgis/rest/services/Proyecto/Servicio_Densidad_Renta_Com_Madrid/MapServer/0\")\r\n\r\n      queryTaskMunicipios.execute(queryMunicipios_Select, lang.hitch(this, function(resultados){\r\n\r\n        if(resultados.features.length > 0){\r\n\r\n          for(i=0; i<resultados.features.length; i++){\r\n\r\n            geometria_municipio_seleccionado = resultados.features[i].geometry\r\n\r\n            nombreMunicipio_seleccionado = resultados.features[i].attributes.municpio_1\r\n\r\n            \r\n            this.map.graphics.clear();\r\n            this.map.graphics.add(new graphic (geometria_municipio_seleccionado, new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID,\r\n            new SimpleLineSymbol (SimpleLineSymbol.STYLE_LONGDASH,\r\n              new Color([234, 152, 223]), 2),new Color([235, 141, 106,0.25])\r\n              )))\r\n\r\n          }\r\n          \r\n\r\n          console.log(\"Geoemtria Municipio seleccionado:\", geometria_municipio_seleccionado)\r\n\r\n          console.log(\"Municipio seleccionado;\", nombreMunicipio_seleccionado)\r\n\r\n          /*DEFINIMOS UNA NUEVA QUERY PARA EL SERVICIO DE CABLEADO PASANDOLE COMO GEOMETRIA DE ENTRADA LA DEL MUNICIPIO SELECCIONADO EN LA LISTA DE MUNICIPIOS: geometria_municipio_seleccionado*/\r\n\r\n          var consulta_Cableado = new query();\r\n\r\n          consulta_Cableado.returnGeometry = true;\r\n          consulta_Cableado.geometry = geometria_municipio_seleccionado;\r\n          consulta_Cableado.outFields = [\"*\"];\r\n          consulta_Cableado.where = \"tipo = \" + this.consultaSelect.value\r\n          consulta_Cableado.spatialRelationship = query.SPATIAL_REL_INTERSECTS;\r\n\r\n\r\n          var capaCableadoquery = new FeatureLayer(\"https://localhost:6443/arcgis/rest/services/Proyecto/ServicioCableado/MapServer/4\")\r\n          \r\n          var identificadorFibra = [];\r\n          var identificadorCobre = [];\r\n          var identificadorCoaxial = [];\r\n          var identificadorHFC = [];\r\n          var identificadorOtros = [];\r\n          var identificadorFibraOrdenados = identificadorFibra.sort();\r\n          var identificadorCobreOrdenados = identificadorCobre.sort();\r\n          var identificadorCoaxialOrdenados = identificadorCoaxial.sort();\r\n          var identificadorHFCOrdenados = identificadorHFC.sort();\r\n          var identificadorOtrosOrdenados = identificadorOtros.sort();\r\n\r\n          capaCableadoquery.queryFeatures(consulta_Cableado, lang.hitch(this, function(EVT){\r\n\r\n            if(EVT.features.length > 0 & this.consultaSelect.value == 0){\r\n\r\n              // this.map.graphics.clear();\r\n\r\n              for(i=0; i < EVT.features.length; i++){\r\n\r\n                console.log(\"EVT:\", EVT)\r\n  \r\n                var geometria_cableado_seleccionado = EVT.features[i].geometry\r\n                var identificador= EVT.features[i].attributes.identificador\r\n  \r\n                this.map.graphics.add(new graphic (geometria_cableado_seleccionado, new SimpleLineSymbol (SimpleLineSymbol.STYLE_SOLID,\r\n                  new Color([101, 133, 233]), 2),new Color([101, 226, 223])\r\n                  ))\r\n\r\n                identificadorFibra.push(identificador)\r\n\r\n  \r\n              }\r\n\r\n              for (i = 0; i < identificadorFibraOrdenados.length; i++) {\r\n\r\n                var li = document.createElement(\"li\");\r\n                var p = document.createElement(\"p\");\r\n                contenido = identificadorFibraOrdenados[i];\r\n                p.appendChild(document.createTextNode(contenido));\r\n                document.getElementById(\"lista_cables_por_municipio_Fibra\").appendChild(li).appendChild(p);\r\n     \r\n              }\r\n\r\n              this.map.setExtent(geometria_municipio_seleccionado.getExtent(), true)\r\n\r\n\r\n              console.log(\"Identificadores de fibra;\", identificadorFibra)\r\n\r\n\r\n\r\n            }else if(EVT.features.length == 0 & this.consultaSelect.value == 0) {\r\n\r\n              alert(\"En \" + nombreMunicipio_seleccionado + \" no existe instalación de Fibra \")\r\n\r\n\r\n            }   \r\n            \r\n            \r\n            if(EVT.features.length > 0 & this.consultaSelect.value == 1){\r\n\r\n              // this.map.graphics.clear();\r\n\r\n              for(i=0; i < EVT.features.length; i++){\r\n\r\n                console.log(\"EVT:\", EVT)\r\n  \r\n                var geometria_cableado_seleccionado = EVT.features[i].geometry\r\n                var identificador= EVT.features[i].attributes.identificador\r\n  \r\n                this.map.graphics.add(new graphic (geometria_cableado_seleccionado, new SimpleLineSymbol (SimpleLineSymbol.STYLE_SOLID,\r\n                  new Color([51, 225, 51]), 2),new Color([101, 226, 223])\r\n                  ))\r\n\r\n                identificadorCobre.push(identificador)\r\n               \r\n  \r\n              }\r\n\r\n              for (i = 0; i < identificadorCobreOrdenados.length; i++) {\r\n\r\n                var li = document.createElement(\"li\");\r\n                var p = document.createElement(\"p\");\r\n                contenido = identificadorCobreOrdenados[i];\r\n                p.appendChild(document.createTextNode(contenido));\r\n                document.getElementById(\"lista_cables_por_municipio_Cobre\").appendChild(li).appendChild(p);\r\n     \r\n              }\r\n\r\n              this.map.setExtent(geometria_municipio_seleccionado.getExtent(), true)\r\n\r\n\r\n              console.log(\"Identificadores de Cobre;\", identificadorCobre)\r\n\r\n            }else if(EVT.features.length == 0 & this.consultaSelect.value == 1) {\r\n\r\n              alert(\"En \" + nombreMunicipio_seleccionado + \" no existe instalación de Cobre \")\r\n\r\n\r\n            } \r\n            \r\n            if(EVT.features.length > 0 & this.consultaSelect.value == 2){\r\n\r\n              // this.map.graphics.clear();\r\n\r\n              for(i=0; i < EVT.features.length; i++){\r\n\r\n                console.log(\"EVT:\", EVT)\r\n  \r\n                var geometria_cableado_seleccionado = EVT.features[i].geometry\r\n                var identificador= EVT.features[i].attributes.identificador\r\n  \r\n                this.map.graphics.add(new graphic (geometria_cableado_seleccionado, new SimpleLineSymbol (SimpleLineSymbol.STYLE_SOLID,\r\n                  new Color([255, 0, 0]), 2),new Color([101, 226, 223])\r\n                  ))\r\n\r\n                identificadorHFC.push(identificador)\r\n  \r\n              }\r\n\r\n              for (i = 0; i < identificadorHFCOrdenados.length; i++) {\r\n\r\n                var li = document.createElement(\"li\");\r\n                var p = document.createElement(\"p\");\r\n                contenido = identificadorHFCOrdenados[i];\r\n                p.appendChild(document.createTextNode(contenido));\r\n                document.getElementById(\"lista_cables_por_municipio_HFC\").appendChild(li).appendChild(p);\r\n     \r\n              }\r\n\r\n              console.log(\"Identificadores de HFC;\", identificadorHFC)\r\n\r\n              this.map.setExtent(geometria_municipio_seleccionado.getExtent(), true)\r\n\r\n\r\n\r\n            }else if(EVT.features.length == 0 & this.consultaSelect.value == 2) {\r\n\r\n              alert(\"En \" + nombreMunicipio_seleccionado + \" no existe instalación de cable HFC \")\r\n\r\n\r\n            }\r\n            \r\n            if(EVT.features.length > 0 & this.consultaSelect.value == 3){\r\n\r\n              // this.map.graphics.clear();\r\n\r\n              for(i=0; i < EVT.features.length; i++){\r\n\r\n                console.log(\"EVT:\", EVT)\r\n  \r\n                var geometria_cableado_seleccionado = EVT.features[i].geometry\r\n                var identificador= EVT.features[i].attributes.identificador\r\n  \r\n                this.map.graphics.add(new graphic (geometria_cableado_seleccionado, new SimpleLineSymbol (SimpleLineSymbol.STYLE_SOLID,\r\n                  new Color([255, 0, 255]), 2),new Color([101, 226, 223])\r\n                  ))\r\n\r\n                identificadorCoaxial.push(identificador)\r\n  \r\n              }\r\n\r\n              for (i = 0; i < identificadorCoaxialOrdenados.length; i++) {\r\n\r\n                var li = document.createElement(\"li\");\r\n                var p = document.createElement(\"p\");\r\n                contenido = identificadorCoaxialOrdenados[i];\r\n                p.appendChild(document.createTextNode(contenido));\r\n                document.getElementById(\"lista_cables_por_municipio_Coaxial\").appendChild(li).appendChild(p);\r\n     \r\n              }\r\n\r\n              console.log(\"Identificadores de Coaxial;\", identificadorCoaxial)\r\n\r\n              this.map.setExtent(geometria_municipio_seleccionado.getExtent(), true)\r\n\r\n\r\n\r\n            }else if(EVT.features.length == 0 & this.consultaSelect.value == 3) {\r\n\r\n              alert(\"En \" + nombreMunicipio_seleccionado + \" no existe instalación de cable Coaxial \")\r\n\r\n\r\n            }\r\n            \r\n            if(EVT.features.length > 0 & this.consultaSelect.value == 4){\r\n\r\n              // this.map.graphics.clear();\r\n\r\n              for(i=0; i < EVT.features.length; i++){\r\n\r\n                console.log(\"EVT:\", EVT)\r\n  \r\n                var geometria_cableado_seleccionado = EVT.features[i].geometry\r\n                var identificador= EVT.features[i].attributes.identificador\r\n  \r\n                this.map.graphics.add(new graphic (geometria_cableado_seleccionado, new  SimpleLineSymbol (SimpleLineSymbol.STYLE_SOLID,\r\n                  new Color([128, 128, 128]), 2),new Color([101, 226, 223])\r\n                  ))\r\n\r\n                identificadorOtros.push(identificador)\r\n  \r\n              }\r\n\r\n              for (i = 0; i < identificadorOtrosOrdenados.length; i++) {\r\n\r\n                var li = document.createElement(\"li\");\r\n                var p = document.createElement(\"p\");\r\n                contenido = identificadorOtrosOrdenados[i];\r\n                p.appendChild(document.createTextNode(contenido));\r\n                document.getElementById(\"lista_cables_por_municipio_Otros\").appendChild(li).appendChild(p);\r\n     \r\n              }\r\n\r\n              console.log(\"Identificadores de Otros;\", identificadorOtros)\r\n\r\n              this.map.setExtent(geometria_municipio_seleccionado.getExtent(), true)\r\n\r\n            }\r\n\r\n            \r\n\r\n\r\n\r\n          }))  \r\n\r\n         \r\n\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n      }))\r\n\r\n\r\n\r\n      \r\n\r\n\r\n\r\n\r\n\r\n\r\n    },\r\n\r\n    restaurar(){\r\n\r\n      this.map.graphics.clear();\r\n\r\n      var extension_incial_mapa = new Extent(-569639.5596264448, 4841429.503604539, -354392.88797539903, 5043529.006390534, new SpatialReference({wkid:102100}) )\r\n\r\n      this.map.setExtent(extension_incial_mapa)\r\n      this.map.removeLayer(capa_conductos)\r\n\r\n    },\r\n\r\n  \r\n\r\n\r\n\r\n    onClose: function(){\r\n      this.map.graphics.clear();\r\n    },\r\n\r\n    // onMinimize: function(){\r\n    //   console.log('Filtro_DC::onMinimize');\r\n    // },\r\n\r\n    // onMaximize: function(){\r\n    //   console.log('Filtro_DC::onMaximize');\r\n    // },\r\n\r\n    // onSignIn: function(credential){\r\n    //   console.log('Filtro_DC::onSignIn', credential);\r\n    // },\r\n\r\n    // onSignOut: function(){\r\n    //   console.log('Filtro_DC::onSignOut');\r\n    // }\r\n\r\n    // onPositionChange: function(){\r\n    //   console.log('Filtro_DC::onPositionChange');\r\n    // },\r\n\r\n    // resize: function(){\r\n    //   console.log('Filtro_DC::resize');\r\n    // }\r\n\r\n    //methods to communication between widgets:\r\n\r\n  });\r\n\r\n});\r\n"]}